<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>M&M Presentation</title>
    <!-- Library -->
    <script type="text/javascript" src="bower_components/reveal.js/js/reveal.min.js"></script>
    <script src="bower_components/reveal.js/lib/js/head.min.js"></script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?autoload=true&amp;skin=sunburst&amp;lang=css" defer="defer"></script>
    <link rel="stylesheet" href="bower_components/reveal.js/css/reveal.min.css">
    <link rel="stylesheet" href="css/main.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>
    <div class="reveal">
        <div class="slides">
            <section data-background="#00AAD2">
                <h1>M&M</h1>
                <h2>Mean Milano</h2>
                <img src="images/MM_logo.png" height="160" width="160" alt="">
            </section>
            <section data-background="#00AAD2">
                <h1>REAL LIFE ES6</h1>
                <ul class="block" style="margin-right: 160px;">
                    <li><img src="images/gl.jpg" height="80" width="80" alt=""></li>
                    <li>Giovanni Lela</li>
                    <li>CTO @ LinkMe</li>
                </ul>
                <ul class="block">
                    <li><img src="images/ms.jpg" height="80" width="80" alt=""></li>
                    <li>Matteo Scandolo</li>
                    <li>MEAN Dev @ LinkMe</li>
                </ul>
            </section>
<!-- ========================================================== JS History ===================================================== -->
            <section data-background="#F0DB4F" class="dark-content">
                <section>
                    <h1>Javascript</h1>
                    <h2>An introduction</h2>
                </section>
                <section>
                    <h1>Javascript</h1>
                    <h3>is a dynamic computer programming language.</h3>
                </section>
                <section>
                    <h1>Javascript</h1>
                    <ul class="block">
                        <li>is object oriented</li>
                        <li>is functional</li>
                        <li>is event based</li>
                    </ul>
                </section>
                <section>
                    <h1>JavaScript</h1>
                    <img src="images/Brendan_Eich.jpg">
                    <p>Was invented by Brendan Eich in May 1995.<br> (in ten days and not in one night)</p>
                </section>
                <section>
                    <h1>JavaScript</h1>
                    <img src="images/JavaScript-logo.png">
                    <p>Has been developed for Netscape</p>
                    <p>And it has been realesed in Netscape 2 in September.</p>
                </section>
                <section>
                    <h2>Maybe it was a bit immature...</h2>
                    <ul class="block">
                        <li>
                            <code class="prettyprint">
                                x = 1.0000000000000001 <br>
                                (x === 1) // true
                            </code>
                        </li>
                        <li>
                            <code class="prettyprint">
                                x = ['10', '10', '10']; <br>
                                x.map(parseInt) //[10, Nan, 2]
                            </code>
                        </li>
                    </ul>
                </section>
                <section>
                    <h1>Javascript</h1>
                    <img src="images/ecma.jpg">
                    <p>Became an ECMA standard in 1997.</p>
                    <p>It is also know as ECMA-262</p>
                </section>
                <section>
                    <h1>ECMAScript</h1>
                    <h3>Standard specification for the language</h3>
                    <h3>Derived languages born</h3>
                    <ul class="block">
                        <li>ActionScript (Adobe)</li>
                        <li>JScript (Microsoft)</li>
                    </ul>
                </section>
                <section>
                    <h1>Versions</h1>
                    <ul class="block">
                        <li>ES3 - 1999 (regEx - Try, Catch)</li>
                        <li>ES4 - tageted 2008, never saw the light...</li>
                        <li>ES5 - 2009 (Json, Bind, Map, ...)</li>
                        <li>ES6 - 2014?</li>
                    </ul>
                </section>
                <section>
                    <h1>Javascript Arise</h1>
                    <h4>Web 2.0 - Ajax - Google Maps (2005)</h4>
                    <h4>Js on the server. NodeJs. (2009)</h4>
                </section>
            </section>
<!-- ========================================================== PerchÃ¨ ES6 Gio ===================================================== -->

<section>
    <section>
        <h1> Why ES6? </h1>
    </section>

    <section>
        <h1> Why change javascript?</h1>

        <ul>
            <li> Stagnation is a social ill</li>
            <li> It breeds frustration</li>
            <li> New solutions arise</li>
        </ul>
    </section>

    <section>
        <h1> Responding to stagnation </h1>
        <p> Some solutions are good </p>
        <p> Others are bad </p>
    </section>

    <section>
        <h1> Evolving the standard is best</h1>
        <p> Everybody is going to ship javascript </p>
    </section>

    <section>
        <img src="../images/jsturd.png">
    </section>

</section>


<section>
    <section>
        <h1> Block scoping </h1>


     </section>

     <section>
        <h1> Hoisting </h1>

        <code class="prettyprint">
           function f() {
              doSomething();
              var a = 1;
            }
        </code>
        <code class="prettyprint">
           function f() {
              var a;
              doSomething();
              a = 1;
            }
        </code>
     </section>

     <section>
        <code class="prettyprint">
            for (var i = 0; i < 3; i++) {
              var j = i * i;
              console.log(j);
            }
            console.log(j); //  4
       </code>

       <code class="prettyprint">
            for (var i = 0; i < 3; i++) {
              let j = i * i;
              console.log(j);
            }
            console.log(j); // will throw ReferenceError
       </code>

     </section>

    <section>

        <h1>Dangers of hoisting </h1>
        <code> Don't make functions within a loop </code>
        <code class="prettyprint">
           var elems = document.getElementsByClassName("myClass"), i;

           for (i = 0; i < elems.length; i++) {
                elems[i].addEventListener("click", function () {
                    this.innerHTML = i;
            });
        }
        </code>

    </section>

    <section>

        <h1> Before: ugly scoping magic </h1>

        <code class="prettyprint">

            var elems = document.getElementsByClassName("myClass"), i;

            function makeClickHandler(i) {
                return function () {
                    this.innerHTML = i;
                };
            }

            for (i = 0; i < elems.length; i++) {
                elems[i].addEventListener("click", makeClickHandler(i));
            }
        </code>

    </section>

    <section>
        <h1>Now: let to the rescue </h1>

        <code class="prettyprint">
           for (let i = 0; i < elems.length; i++) {
                elems[i].addEventListener("click", function () {
                    this.innerHTML = i;
           });
        </code>
    </section>

    <section>

        <h1>Const</h1>

        <p> The same as let but:</p>
        <ul>
            <li> It must be initialized </li>
            <li> And just once </li>
        </ul>

        <code class="prettyprint">

            cons CONSTANT; //error

            const CONSTANT = "Wow, I am constant";

            CONSTANT = "No you are not"; //error
        </code>

    </section>

</section>


<section>

    <section>Iterators, generators and the callback hell</section>

    <section>
        <h1>Iterator</h1>

        <p>An Iterator is an object that knows how to access items from a collection one at a time, while keeping track of its current position within that sequence<p>

        <code class="prettyprint">
            var lang = { name: 'JavaScript', birthYear: 1995 };
            var it = Iterator(lang);

            var pair = it.next(); // Pair is ["name", "JavaScript"]
            pair = it.next(); // Pair is ["birthYear", 1995]
            pair = it.next(); // A StopIteration exception is thrown
        </code>

    </section>


    <section>
        <h1> Iterable </h1>
        <code class="prettyprint">

            function Words(str) {
                this._str = str;
            }

            Words.prototype[Symbol.iterator] = function() {
              var re = /\S+/g;
              var str = this._str;

              return {
                next: function() {
                  var match = re.exec(str);
                  if (match) {
                    return {value: match[0], done: false};
                  }
                  return {value: undefined, done: true};
                }
              }
            };

        </code>
    </section>

    <section>

        <h1> for..of </h1>

        <code class="prettyprint">

            var helloWorld = new Words("Hey you");

            for (var word of helloWorld) {
              console.log(word);
            }

            //Hello
            //world

        </code>

        <p> Works also on arrays, maps, sets.. </p>

    </section>

    <section>

        <h1>Generators</h1>

        <ul>
            <li>A very special kind of iterators</li>
            <li>It's an iterator whose results are determined by an iterator function </li>
        </ul>

    </section>

    <section>

        <h1>Iterating on a generator</h1>

        <code class="prettyprint">
            function* countdown(){

                //first next
                yield 2;

                //second next
                yield 1;

                //third next
                yield 0;

                //done
            }

            let generatorObject = countdown();

            generatorObject.next(); // {value : 2, done : false}
            generatorObject.next(); // {value : 1, done : false}
            generatorObject.next(); // {value : 0, done : false}
            generatorObject.next(); // {value : undefined, done : true}\
        </code>

    </section>

    <section>

        <h1> Talking back to a generator </h1>

        <code class="prettyprint">

            function* countdown(){

                    //first next
                    let one = yield 2;
                    console.log(one);  //one

                    //second next
                    let two = yield 1;
                    console.log(two);  //two

                    //third next
                    let three = yield 0;
                    console.log(three);  //three

                    //done!
                }

                let generatorobject = countdown();

                generatorobject.next(); // {value : 2, done : false}
                generatorobject.next('one'); // {value : 1, done : false}
                generatorobject.next('two'); // {value : 0, done : false}
                generatorobject.next('three'); // {value : undefined, done : true}

          </code>

    </section>

    <section>

        <h1>Hello promises</h1>

        <ul>
            <li>A promise is an object which represents the results of a future computation </li>
            <li>It allows to take action when the async operation is done</li>
        </ul>

    </section>
    <section>

        <h1> Using a promise </h1>

        <code class="prettyprint">

            var awesomePromise = getAsyncThings();

            awesomePromise.then(

                //resolve
                function(value){

                    console.log('yeah :' + value);
                },

                function(error){

                    console.log('oh no');
                    console.log(error);
                }
            );
        </code>

    </section>
    <section>

        <h1>Creating a promise </h1>

        <code class="prettyprint">
            function getAsyncThings(url) {
              // Return a new promise.
                return new Promise(function(resolve, reject) {
                // Do the usual XHR stuff
                    var req = new XMLHttpRequest();
                    req.open('GET', url);

                    req.onload = function() {
                      // This is called even on 404 etc
                      // so check the status
                        if (req.status === 200) {
                        // Resolve the promise with the response text
                            resolve(req.response);
                        }
                        else {
                        // Otherwise reject with the status text
                        // which will hopefully be a meaningful error
                            reject( new Error(req.statusText));
                        }
                    };

                    // Handle network errors
                    req.onerror = function() {
                        reject( new Error('Network Error'));
                    };

                // Make the request
                    req.send();
                });
            }
        </code>

    </section>

    <section>

        <h1> Chaining promises </h1>

        <code class="prettyprint">
           getStuff('stuff.json')
            .then(function(story){

                return saveInSomeDatabase();
            })
            .then(function(success){

                console.log('saved!');
            });

        </code>

    </section>

    <section>

        <h1> Promises + generators = .. </h1>


        var gen = generator();

        //get the party started
        var generatedPromise = gen.next().value;

        //when the promise is resolved call the next step
        function nextStep(){

            generatedPromise.then(function(promiseResult){
                gen.next(promiseResult);
            });
        }

        nextStep();
    </section>

    <section>
        <h1> (Semi) coroutines </h1>

           Promise.coroutine(function* () {
              var tweets = yield $.get('tweets.json');
              var profile = yield $.get('profile.json');
              var friends = yield $.get('friends.json');
              console.log(tweets, profile, friends);
            })();

    </section>

</section>

<!-- ========================================================== BASIC ES6 ===================================================== -->
            <section>
                <section>
                    <h1>Road to ES6</h1>
                    <h3>Some interesting Features</h3>
                </section>
                <!-- ========================================================== Template Strings ===================================================== -->
                <section>
                    <h2>Template Strings</h2>
                    <p>Allows string literals with embedded expressions in them.</p>
                    <code class="prettyprint">
                        var name = "Matteo";<br>
                        console.log(`Hello, ${name}!`);
                    </code>
                </section>
                <section>
                    <h2>In Practice</h2>
                    <code class="prettyprint">
                        &lt;div id="js-element"&gt;initial content&lt;/div&gt;<br>
                        &lt;script&gt;<br>
                            var name = "Matteo";<br>
                            var element = document.getElementById('js-element');<br>
                            element.innerHTML = `Hello, ${name}!`;<br>
                        &lt;/script&gt;
                    </code>
                </section>
    <!-- ========================================================== Default Parameters ===================================================== -->
                <section>
                    <h2>Default Parameter Value</h2>
                    <p>Default parameter values allow you to initialize parameters if they were not explicitly supplied. <br>This means that you no longer have to do <i>x = x || {};</i></p>
                    <code class="prettyprint">
                        var f = function(x = 5){return x + 1};<br>
                        <!-- var f = (x = 5) => x + 1; -->
                    </code>
                </section>   
                <section>
                    <h2>In Practice</h2>
                    <code class="prettyprint">
                        var getUser = function(id = me){ <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;$.get('api/user/' + id, <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function(res){return res}, <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function(e){throw new Error(e)} <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;); <br>
                        }
                    </code>
                </section>   
    <!-- ========================================================== Arrow Functions ===================================================== -->
                <section>
                    <h2>Arrow Functions</h2>
                    <p>The goal of Arrow Functions is to address and resolve several common pain points of traditional Function Expression:</p>
                    <ul>
                        <li>Lexical this binding</li>
                        <li>Shorter syntactical form</li>
                    </ul>
                    <code class="prettyprint">
                        //before <br>
                        var f = function(x){return x + 1;} <br>

                        //es6 <br>
                        var f = x => x+1;
                        <br><br>
                        console.log(f(2));
                    </code>
                </section>
                <section>
                    <h2>In Practice</h2>
                    <code class="prettyprint">
                        var user; <br><br>
                        getUser() <br>
                        .then( <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;res => user = res, <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;e => throw new Error(e) <br>
                        ); <br>
                    </code>
                </section>
    <!-- ========================================================== REST ===================================================== -->
                <section>
                    <h2>REST</h2>
                    <p>Rest parameters provide a cleaner way of dealing with functions that takes arbitrary number of parameters than using arguments. <br>
                    Basically your parameters are convertend in an array </p>
                    <code class="prettyprint">
                        var f = function(...args){ <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;var tot = 0; <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;for (var i = 0; i < args.length; i++ ){ <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tot += args[i]; <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;} <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;return tot/args.length; <br>
                        } <br>
                        <br> <br>
                        f(12, 8, 16, 32); //17
                    </code>
                </section>
                <section>
                    <h2>In Practice</h2>
                    <code class="prettyprint">
                        var cart = {list: []}; <br>
                        cart.add = function(...items){ <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;items.forEach(item => this.list.push(item)); <br>
                        }; <br>
                        <br>
                        cart.add('ball'); <br>
                        cart.add('tree', 'soap');
                        <br><br>
                        console.log(cart.list);
                    </code>
                </section>
    <!-- ========================================================== SPREAD ===================================================== -->
                <section>
                    <h2>SPREAD</h2>
                    <p>The spread construct allows an expression to be expanded in places where multiple arguments are expected</p>
                    <code class="prettyprint">
                        var args = [12, 99, 17] <br>
                        var f = (x, y, z) => Math.min(x, y, z);<br>
                        f(...args);
                    </code>
                </section>
                <section>
                    <h2>In Practice</h2>
                    <p>This example rely on <a href="https://github.com/petkaantonov/bluebird">Bluebird</a> and <a href="https://lodash.com">Lodash</a></p>
                    <code class="prettyprint">
                        var targetFunction = _.curry(function(a,b,c)); <br>
                        targetFunction('Hello'); <br>
                        <br>
                        var functionList = [fn1, fn2]; <br>
                        // fn1 => return name | fn2 => return surname;<br>
                        Promise //bluebird <br>
                        .all(functionList) //accept an array of Promise <br>
                        .then( function(res){ //receive an array <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;//spread the array into arguments <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;targetFunction(...res); <br>
                        }); <br>
                    </code>
                </section>
            </section>
<!-- ========================================================== ADVANCED ES6 (GIO) ===================================================== -->
            <section>
                <section>
                    <h1>Road to ES6</h1>
                    <h3>Some more interesting Features</h3>
                </section>
            </section>
<!-- ========================================================== NEXT ===================================================== -->
            <section data-background="#00AAD2">
                <h2>Server Side JS</h2>
                <ul class="block">
                    <li>
                        <em>
                            Real Life examples on Server Side programming
                        </em>
                    </li>
                    <li>
                        <b>20th January 2015</b> - <em>7:00 pm</em>
                    </li>
                    <li>
                        <i>Place to be defined</i>
                    </li>
                </ul>
            </section>
<!-- ========================================================== Hiring ===================================================== -->
            <section>
                <section>
                    <h2>M&M Milano !== LinkMe</h2>
                </section>
                <section>
                    <h4>But...we are looking for an experienced Node Developer</h4>

                    <h2>
                        Write @
                        <a href="mailto: jobs@link-me.it">jobs@link-me.it</a>
                    </h2>
                </section>
            </section>
        </div>
    </div>
    <script>


            // Full list of configuration options available here:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,

                theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
                transition: Reveal.getQueryHash().transition || 'default', // none/fade/slide/convex/concave/zoom

                // Parallax scrolling
                // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
                // parallaxBackgroundSize: '2100px 900px',

                // Optional libraries used to extend on reveal.js
                dependencies: [
                    { src: 'bower_components/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'bower_components/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'bower_components/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'bower_components/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'bower_components/reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
                    { src: 'bower_components/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
                ]
            });


    </script>
</body>
</html>
